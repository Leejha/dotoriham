import { filterProps } from './filter-props';
import { StyleSystemProps } from '../types';

export function extractSystemStyles<T extends Record<string, any>>(
	others: StyleSystemProps & T,
): { systemStyles: StyleSystemProps; rest: T } {
	const {
		m,
		mx,
		my,
		mt,
		mb,
		ml,
		mr,
		p,
		px,
		py,
		pt,
		pb,
		pl,
		pr,
		bg,
		c,
		opacity,
		ff,
		fz,
		fw,
		lts,
		ta,
		lh,
		fs,
		tt,
		td,
		w,
		miw,
		maw,
		h,
		mih,
		mah,
		bgsz,
		bgp,
		bgr,
		bga,
		pos,
		top,
		left,
		bottom,
		right,
		inset,
		display,
		...rest
	} = others;
	const systemStyles = filterProps({
		bg,
		bga,
		bgp,
		bgr,
		bgsz,
		bottom,
		c,
		display,
		ff,
		fs,
		fw,
		fz,
		h,
		inset,
		left,
		lh,
		lts,
		m,
		mah,
		maw,
		mb,
		mih,
		miw,
		ml,
		mr,
		mt,
		mx,
		my,
		opacity,
		p,
		pb,
		pl,
		pos,
		pr,
		pt,
		px,
		py,
		right,
		ta,
		td,
		top,
		tt,
		w,
	});

	return { rest: rest as unknown as T, systemStyles };
}
